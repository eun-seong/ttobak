{"ast":null,"code":"var _jsxFileName = \"/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/Root/SignIn/SignInContainer.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SignInPresenter from './SignInPresenter';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { user_autologin, user_signin } from 'Sessions/action.js';\n\nclass SignIn extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = (e, {\n      email,\n      pw\n    }) => {\n      e.preventDefault();\n      const {\n        user\n      } = this.props;\n      const {\n        dispatch\n      } = this.props;\n      dispatch(user_signin(email, pw));\n    };\n\n    this.onButtonTouchEnd = () => {\n      this.setState({\n        showPopup: false\n      });\n    };\n\n    const {\n      dispatch: _dispatch\n    } = this.props;\n\n    _dispatch(user_autologin());\n\n    this.state = {\n      showPopup: false,\n      text: ''\n    };\n  }\n\n  componentDidUpdate() {\n    const {\n      user\n    } = this.props;\n    const {\n      history\n    } = this.props;\n\n    if (user.user.u_id) {\n      console.log(user.user.u_id === 'undefined');\n      window.localStorage.setItem('uid', user.user.u_id);\n      this.props.history.push('/root/selectstd');\n      return;\n    }\n\n    if (!user.fetchingUpdate && user.response.data && user.response.data.code !== 1) {\n      alert('이메일과 비밀번호를 다시 확인해주세요.');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(SignInPresenter, {\n      handleSubmit: this.handleSubmit,\n      onButtonTouchEnd: this.onButtonTouchEnd,\n      showPopup: this.state.showPopup,\n      text: this.state.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    });\n  }\n\n}\n\nSignIn.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any).isRequired,\n  dispatch: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(SignIn));","map":{"version":3,"sources":["/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/Root/SignIn/SignInContainer.js"],"names":["React","withRouter","SignInPresenter","PropTypes","connect","user_autologin","user_signin","SignIn","Component","constructor","props","handleSubmit","e","email","pw","preventDefault","user","dispatch","onButtonTouchEnd","setState","showPopup","state","text","componentDidUpdate","history","u_id","console","log","window","localStorage","setItem","push","fetchingUpdate","response","data","code","alert","render","propTypes","objectOf","any","isRequired","func","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,cAAT,EAAyBC,WAAzB,QAA4C,oBAA5C;;AAEA,MAAMC,MAAN,SAAqBP,KAAK,CAACQ,SAA3B,CAAqC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBC,YAlBmB,GAkBJ,CAACC,CAAD,EAAI;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAJ,KAAsB;AACjCF,MAAAA,CAAC,CAACG,cAAF;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAW,KAAKN,KAAtB;AACA,YAAM;AAAEO,QAAAA;AAAF,UAAe,KAAKP,KAA1B;AAEAO,MAAAA,QAAQ,CAACX,WAAW,CAACO,KAAD,EAAQC,EAAR,CAAZ,CAAR;AACH,KAxBkB;;AAAA,SAyCnBI,gBAzCmB,GAyCA,MAAM;AACrB,WAAKC,QAAL,CAAc;AACVC,QAAAA,SAAS,EAAE;AADD,OAAd;AAGH,KA7CkB;;AAEf,UAAM;AAAEH,MAAAA,QAAQ,EAARA;AAAF,QAAe,KAAKP,KAA1B;;AAEAO,IAAAA,SAAQ,CAACZ,cAAc,EAAf,CAAR;;AAEA,SAAKgB,KAAL,GAAa;AACTD,MAAAA,SAAS,EAAE,KADF;AAETE,MAAAA,IAAI,EAAE;AAFG,KAAb;AAIH;;AAeDC,EAAAA,kBAAkB,GAAG;AACjB,UAAM;AAAEP,MAAAA;AAAF,QAAW,KAAKN,KAAtB;AACA,UAAM;AAAEc,MAAAA;AAAF,QAAc,KAAKd,KAAzB;;AAEA,QAAIM,IAAI,CAACA,IAAL,CAAUS,IAAd,EAAoB;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYX,IAAI,CAACA,IAAL,CAAUS,IAAV,KAAmB,WAA/B;AACAG,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,EAAmCd,IAAI,CAACA,IAAL,CAAUS,IAA7C;AACA,WAAKf,KAAL,CAAWc,OAAX,CAAmBO,IAAnB,CAAwB,iBAAxB;AACA;AACH;;AAED,QAAI,CAACf,IAAI,CAACgB,cAAN,IAAwBhB,IAAI,CAACiB,QAAL,CAAcC,IAAtC,IAA8ClB,IAAI,CAACiB,QAAL,CAAcC,IAAd,CAAmBC,IAAnB,KAA4B,CAA9E,EAAiF;AAC7EC,MAAAA,KAAK,CAAC,uBAAD,CAAL;AACH;AACJ;;AAQDC,EAAAA,MAAM,GAAG;AAEL,wBAAQ,oBACJ,eADI;AAEJ,MAAA,YAAY,EAAE,KAAK1B,YAFf;AAGJ,MAAA,gBAAgB,EAAE,KAAKO,gBAHnB;AAIJ,MAAA,SAAS,EAAE,KAAKG,KAAL,CAAWD,SAJlB;AAKJ,MAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,IALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AAOH;;AAzDgC;;AAA/Bf,M,CAaK+B,S,GAAY;AACftB,EAAAA,IAAI,EAAEb,SAAS,CAACoC,QAAV,CAAmBpC,SAAS,CAACqC,GAA7B,EAAkCC,UADzB;AAEfxB,EAAAA,QAAQ,EAAEd,SAAS,CAACuC,IAAV,CAAeD;AAFV,C;;AA+CvB,SAASE,eAAT,CAAyBtB,KAAzB,EAAgC;AAC5B,SAAO;AAAEL,IAAAA,IAAI,EAAEK,KAAK,CAACL;AAAd,GAAP;AACH;;AAED,eAAeZ,OAAO,CAACuC,eAAD,CAAP,CAAyB1C,UAAU,CAACM,MAAD,CAAnC,CAAf","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SignInPresenter from './SignInPresenter';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { user_autologin, user_signin } from 'Sessions/action.js';\n\nclass SignIn extends React.Component {\n    constructor(props) {\n        super(props);\n        const { dispatch } = this.props;\n\n        dispatch(user_autologin());\n\n        this.state = {\n            showPopup: false,\n            text: '',\n        }\n    }\n\n    static propTypes = {\n        user: PropTypes.objectOf(PropTypes.any).isRequired,\n        dispatch: PropTypes.func.isRequired,\n    };\n\n\n    handleSubmit = (e, { email, pw }) => {\n        e.preventDefault();\n        const { user } = this.props;\n        const { dispatch } = this.props;\n\n        dispatch(user_signin(email, pw));\n    }\n    componentDidUpdate() {\n        const { user } = this.props;\n        const { history } = this.props;\n\n        if (user.user.u_id) {\n            console.log(user.user.u_id === 'undefined');\n            window.localStorage.setItem('uid', user.user.u_id);\n            this.props.history.push('/root/selectstd');\n            return;\n        }\n\n        if (!user.fetchingUpdate && user.response.data && user.response.data.code !== 1) {\n            alert('이메일과 비밀번호를 다시 확인해주세요.');\n        }\n    }\n\n    onButtonTouchEnd = () => {\n        this.setState({\n            showPopup: false,\n        });\n    }\n\n    render() {\n\n        return (<\n            SignInPresenter\n            handleSubmit={this.handleSubmit}\n            onButtonTouchEnd={this.onButtonTouchEnd}\n            showPopup={this.state.showPopup}\n            text={this.state.text}\n        />);\n    }\n}\n\nfunction mapStateToProps(state) {\n    return { user: state.user }\n}\n\nexport default connect(mapStateToProps)(withRouter(SignIn));"]},"metadata":{},"sourceType":"module"}