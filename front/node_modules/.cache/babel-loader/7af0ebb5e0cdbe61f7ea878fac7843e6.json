{"ast":null,"code":"import { combineReducers } from 'redux';\nimport { USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAILURE } from './action.js';\nimport { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAILURE } from './action.js';\nimport { USER_MODIFY_REQUEST, USER_MODIFY_SUCCESS, USER_MODIFY_FAILURE } from './action.js';\nimport { USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DELETE_FAILURE } from './action.js';\nimport { USER_GET_REQUEST, USER_GET_SUCCESS, USER_GET_FAILURE } from './action.js';\nimport { USER_AUTOLOGIN_SUCCESS, USER_AUTOLOGIN_FAILURE } from './action.js';\nimport { USER_LOGOUT_SUCCESS } from './action.js';\nimport { STUDENT_ADD_REQUEST, STUDENT_ADD_SUCCESS, STUDENT_ADD_FAILURE } from './action.js';\nimport { STUDENT_MODIFY_REQUEST, STUDENT_MODIFY_SUCCESS, STUDENT_MODIFY_FAILURE } from './action.js';\nimport { STUDENT_DELETE_REQUEST, STUDENT_DELETE_SUCCESS, STUDENT_DELETE_FAILURE } from './action.js';\nimport { STUDENT_GET_REQUEST, STUDENT_GET_SUCCESS, STUDENT_GET_FAILURE } from './action.js';\nimport { STUDENT_CHANGE_SUCCESS } from './action.js';\nimport { RESPONSE_CLEAR_SUCCESS } from './action.js';\nconst defaultState = {\n  isLoggedIn: false,\n  fetchingUpdate: false,\n  user: {},\n  student: {},\n  response: {}\n};\n\nconst userReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case USER_REGISTER_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        isLoggedIn: true,\n        user: {\n          u_id: action.result.data.usr_id\n        },\n        response: action.error || action.result\n      };\n\n    case USER_REGISTER_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        isLoggedIn: false,\n        user: {},\n        response: action.error || action.result\n      };\n\n    case USER_SIGNIN_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case USER_SIGNIN_SUCCESS:\n      window.localStorage.setItem('uid', action.result.data.usr_id);\n      return { ...state,\n        fetchingUpdate: false,\n        isLoggedIn: true,\n        user: {\n          u_id: action.result.data.usr_id\n        },\n        response: action.error || action.result\n      };\n\n    case USER_SIGNIN_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        isLoggedIn: false,\n        response: action.error || action.result\n      };\n\n    case USER_MODIFY_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case USER_MODIFY_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        user: { ...state.user\n        },\n        response: action.error || action.result\n      };\n\n    case USER_MODIFY_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case USER_DELETE_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case USER_DELETE_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        user: { ...state.user\n        },\n        response: action.error || action.result\n      };\n\n    case USER_DELETE_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case USER_GET_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case USER_GET_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        user: { ...state.user,\n          u_id: action.result.data.u_id,\n          name: action.result.data.name,\n          email: action.result.data.email,\n          students: action.result.data.students.map(el => {\n            return {\n              s_id: el.stu_id,\n              name: el.stu_name,\n              gender: el.stu_gender,\n              birth: el.stu_birth,\n              ic_id: el.ic_id\n            };\n          })\n        },\n        response: action.error || action.result\n      };\n\n    case USER_GET_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case STUDENT_ADD_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case STUDENT_ADD_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        student: {\n          s_id: action.result.data.stu_id\n        },\n        response: action.error || action.result\n      };\n\n    case STUDENT_ADD_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case STUDENT_MODIFY_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case STUDENT_MODIFY_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        student: {},\n        response: action.error || action.result\n      };\n\n    case STUDENT_MODIFY_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case STUDENT_DELETE_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case STUDENT_DELETE_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        student: {},\n        response: action.error || action.result\n      };\n\n    case STUDENT_DELETE_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case STUDENT_GET_REQUEST:\n      return { ...state,\n        fetchingUpdate: true\n      };\n\n    case STUDENT_GET_SUCCESS:\n      return { ...state,\n        fetchingUpdate: false,\n        student: { ...state.student,\n          s_id: action.result.data.stu_id,\n          name: action.result.data.name,\n          birth: action.result.data.birth,\n          gender: action.result.data.gender,\n          ic_id: action.result.data.ic_id\n        },\n        response: action.error || action.result\n      };\n\n    case STUDENT_GET_FAILURE:\n      return { ...state,\n        fetchingUpdate: false,\n        response: action.error || action.result\n      };\n\n    case USER_AUTOLOGIN_SUCCESS:\n      return { ...state,\n        isLoggedIn: true,\n        fetchingUpdate: false,\n        user: {\n          u_id: action.data.u_id\n        }\n      };\n\n    case USER_AUTOLOGIN_FAILURE:\n      return { ...state,\n        isLoggedIn: false,\n        fetchingUpdate: false\n      };\n\n    case USER_LOGOUT_SUCCESS:\n      return { ...state,\n        isLoggedIn: false,\n        fetchingUpdate: false,\n        user: {},\n        student: {}\n      };\n\n    case STUDENT_CHANGE_SUCCESS:\n      return { ...state,\n        fetchingUpdate: true,\n        student: {\n          s_id: action.data.s_id\n        }\n      };\n\n    case RESPONSE_CLEAR_SUCCESS:\n      return { ...state,\n        response: {}\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  user: userReducer\n});","map":{"version":3,"sources":["/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Sessions/reducer.js"],"names":["combineReducers","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAILURE","USER_MODIFY_REQUEST","USER_MODIFY_SUCCESS","USER_MODIFY_FAILURE","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAILURE","USER_GET_REQUEST","USER_GET_SUCCESS","USER_GET_FAILURE","USER_AUTOLOGIN_SUCCESS","USER_AUTOLOGIN_FAILURE","USER_LOGOUT_SUCCESS","STUDENT_ADD_REQUEST","STUDENT_ADD_SUCCESS","STUDENT_ADD_FAILURE","STUDENT_MODIFY_REQUEST","STUDENT_MODIFY_SUCCESS","STUDENT_MODIFY_FAILURE","STUDENT_DELETE_REQUEST","STUDENT_DELETE_SUCCESS","STUDENT_DELETE_FAILURE","STUDENT_GET_REQUEST","STUDENT_GET_SUCCESS","STUDENT_GET_FAILURE","STUDENT_CHANGE_SUCCESS","RESPONSE_CLEAR_SUCCESS","defaultState","isLoggedIn","fetchingUpdate","user","student","response","userReducer","state","action","type","u_id","result","data","usr_id","error","window","localStorage","setItem","name","email","students","map","el","s_id","stu_id","stu_name","gender","stu_gender","birth","stu_birth","ic_id"],"mappings":"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","sourcesContent":["import { combineReducers } from 'redux';\nimport { USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAILURE } from './action.js';\nimport { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAILURE } from './action.js';\nimport { USER_MODIFY_REQUEST, USER_MODIFY_SUCCESS, USER_MODIFY_FAILURE } from './action.js';\nimport { USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DELETE_FAILURE } from './action.js';\nimport { USER_GET_REQUEST, USER_GET_SUCCESS, USER_GET_FAILURE } from './action.js';\nimport { USER_AUTOLOGIN_SUCCESS, USER_AUTOLOGIN_FAILURE } from './action.js';\nimport { USER_LOGOUT_SUCCESS } from './action.js';\nimport { STUDENT_ADD_REQUEST, STUDENT_ADD_SUCCESS, STUDENT_ADD_FAILURE } from './action.js';\nimport { STUDENT_MODIFY_REQUEST, STUDENT_MODIFY_SUCCESS, STUDENT_MODIFY_FAILURE } from './action.js';\nimport { STUDENT_DELETE_REQUEST, STUDENT_DELETE_SUCCESS, STUDENT_DELETE_FAILURE } from './action.js';\nimport { STUDENT_GET_REQUEST, STUDENT_GET_SUCCESS, STUDENT_GET_FAILURE } from './action.js';\nimport { STUDENT_CHANGE_SUCCESS } from './action.js';\nimport { RESPONSE_CLEAR_SUCCESS } from './action.js';\n\nconst defaultState = {\n  isLoggedIn: false,\n  fetchingUpdate: false,\n  user: {}, \n  student: {},\n  response: {}\n};\n\nconst userReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case USER_REGISTER_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        isLoggedIn: true,\n        user: {u_id: action.result.data.usr_id}, \n        response: action.error || action.result\n      };\n    case USER_REGISTER_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        isLoggedIn: false,\n        user: {}, \n        response: action.error || action.result\n      };\n    case USER_SIGNIN_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case USER_SIGNIN_SUCCESS:\n      window.localStorage.setItem('uid', action.result.data.usr_id);\n\n      return {\n        ...state,\n        fetchingUpdate: false,\n        isLoggedIn: true,\n        user: {u_id: action.result.data.usr_id},\n        response: action.error || action.result\n      };\n    case USER_SIGNIN_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        isLoggedIn: false,\n        response: action.error || action.result\n      };\n    case USER_MODIFY_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case USER_MODIFY_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        user: {...state.user}, \n        response: action.error || action.result\n      };\n    case USER_MODIFY_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case USER_DELETE_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case USER_DELETE_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        user: {...state.user}, \n        response: action.error || action.result\n      };\n    case USER_DELETE_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case USER_GET_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case USER_GET_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        user: { ...state.user, u_id: action.result.data.u_id, name: action.result.data.name, email: action.result.data.email, students: action.result.data.students.map(\n          el => {return {s_id: el.stu_id, name: el.stu_name, gender: el.stu_gender, birth: el.stu_birth, ic_id: el.ic_id};}\n        )}, \n        response: action.error || action.result\n      };\n    case USER_GET_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case STUDENT_ADD_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case STUDENT_ADD_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        student: {s_id: action.result.data.stu_id}, \n        response: action.error || action.result\n      };\n    case STUDENT_ADD_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case STUDENT_MODIFY_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case STUDENT_MODIFY_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        student: {}, \n        response: action.error || action.result\n      };\n    case STUDENT_MODIFY_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case STUDENT_DELETE_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case STUDENT_DELETE_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        student: {}, \n        response: action.error || action.result\n      };\n    case STUDENT_DELETE_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case STUDENT_GET_REQUEST:\n      return {\n        ...state,\n        fetchingUpdate: true\n      };\n    case STUDENT_GET_SUCCESS:\n      return {\n        ...state,\n        fetchingUpdate: false,\n        student: {...state.student, s_id: action.result.data.stu_id, name: action.result.data.name, birth: action.result.data.birth, gender: action.result.data.gender, ic_id: action.result.data.ic_id }, \n        response: action.error || action.result\n      };\n    case STUDENT_GET_FAILURE:\n      return {\n        ...state,\n        fetchingUpdate: false, \n        response: action.error || action.result\n      };\n    case USER_AUTOLOGIN_SUCCESS:\n      return {\n        ...state, \n        isLoggedIn: true, \n        fetchingUpdate: false, \n        user: {u_id: action.data.u_id}\n      };\n    case USER_AUTOLOGIN_FAILURE:\n        return {\n          ...state, \n          isLoggedIn: false, \n          fetchingUpdate: false, \n        };\n    case USER_LOGOUT_SUCCESS:\n      return {\n        ...state, \n        isLoggedIn: false, \n        fetchingUpdate: false,\n        user: {}, \n        student: {}\n      };\n    case STUDENT_CHANGE_SUCCESS:\n      return {\n        ...state, \n        fetchingUpdate: true, \n        student: {s_id: action.data.s_id}\n      };\n    case RESPONSE_CLEAR_SUCCESS:\n      return {\n        ...state,\n        response: {}\n      }\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  user: userReducer\n});"]},"metadata":{},"sourceType":"module"}