{"ast":null,"code":"var _jsxFileName = \"/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/User/StdStatistics/StdStatisticsContainer.js\";\nimport React, { useReducer } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport StdStatisticsPresenter from './StdStatisticsPresenter';\nimport Alert from 'Components/Alert';\nimport { Stat_Api, Daily_Api } from 'api';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nclass StdStatstics extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.goBack = () => {\n      this.props.history.goBack();\n    };\n\n    this.Stat = async (is_cure, period) => {\n      const {\n        user\n      } = this.props;\n      const data = await Stat_Api.ask(user.student.s_id, is_cure, period);\n\n      if (data.data.code == 'cure') {\n        this.setState({\n          amount: data.data.amount,\n          score: data.data.score,\n          voice_score: data.data.voice_score,\n          class: data.data.class,\n          code: data.data.code,\n          period: period,\n          is_ready: true\n        });\n      } else if (data.data.code === 'diagnose') {\n        this.setState({\n          score_swp: data.data.score_swp,\n          score_ph: data.data.score_ph,\n          score_foc: data.data.score_foc,\n          class: data.data.class,\n          code: data.data.code,\n          is_ready: true\n        });\n      }\n\n      console.log(data.data);\n    };\n\n    this.isFirstDiag = async () => {\n      const {\n        data\n      } = await Daily_Api.did(this.props.user.student.s_id);\n      console.log(data);\n\n      if (data.is_first) {\n        this.makeAlert('첫 번째 검사를 진행해주세요', false, () => this.setState({\n          enableAlert: false\n        }));\n      } else this.props.history.push('/diagnose/result');\n    };\n\n    this.state = {\n      amount: {},\n      score: {},\n      voice_score: {},\n      class: {},\n      score_swp: {},\n      score_ph: {},\n      score_foc: {},\n      is_cure: true,\n      period: 'day',\n      is_ready: false,\n      enableAlert: false\n    };\n    const {\n      user: _user\n    } = props;\n\n    if (!_user.user.u_id || !_user.student.s_id) {\n      this.makeAlert('잘못된 접근입니다.', false, () => {\n        props.history.push('/root/signin');\n      });\n      return;\n    }\n\n    this.Stat(true, 'day');\n  }\n\n  makeAlert(text, isConfirm, onSubmit, onCancel) {\n    this.setState({\n      enableAlert: true\n    });\n    this.alertText = text;\n    this.isConfirm = isConfirm;\n    this.onSubmit = onSubmit;\n    this.onCancel = onCancel;\n    this.forceUpdate();\n  }\n\n  render() {\n    console.log(this.props.history);\n    const {\n      user\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, this.state.enableAlert ? /*#__PURE__*/React.createElement(Alert, {\n      text: this.alertText,\n      isConfirm: this.isConfirm,\n      onSubmit: this.onSubmit,\n      onCancel: this.onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 44\n      }\n    }) : '', /*#__PURE__*/React.createElement(StdStatisticsPresenter, {\n      student: user.student,\n      goBack: this.goBack,\n      state: this.state,\n      Stat: this.Stat,\n      isReady: this.state.is_ready,\n      isCure: this.state.is_cure,\n      period: this.state.period,\n      isFirstDiag: this.isFirstDiag,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nStdStatstics.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any).isRequired,\n  dispatch: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(StdStatstics));","map":{"version":3,"sources":["/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/User/StdStatistics/StdStatisticsContainer.js"],"names":["React","useReducer","withRouter","StdStatisticsPresenter","Alert","Stat_Api","Daily_Api","PropTypes","connect","StdStatstics","Component","constructor","props","goBack","history","Stat","is_cure","period","user","data","ask","student","s_id","code","setState","amount","score","voice_score","class","is_ready","score_swp","score_ph","score_foc","console","log","isFirstDiag","did","is_first","makeAlert","enableAlert","push","state","u_id","text","isConfirm","onSubmit","onCancel","alertText","forceUpdate","render","propTypes","objectOf","any","isRequired","dispatch","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport StdStatisticsPresenter from './StdStatisticsPresenter';\nimport Alert from 'Components/Alert';\n\nimport { Stat_Api, Daily_Api } from 'api';\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nclass StdStatstics extends React.Component {\n    static propTypes = {\n        user: PropTypes.objectOf(PropTypes.any).isRequired,\n        dispatch: PropTypes.func.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            amount: {},\n            score: {},\n            voice_score: {},\n            class: {},\n            score_swp: {},\n            score_ph: {},\n            score_foc: {},\n            is_cure: true,\n            period: 'day',\n            is_ready: false,\n            enableAlert: false,\n        };\n\n        const { user } = props;\n\n        if (!user.user.u_id || !user.student.s_id) {\n            this.makeAlert('잘못된 접근입니다.', false, (() => {\n                props.history.push('/root/signin');\n            }));\n            return;\n        }\n        this.Stat(true, 'day');\n    }\n\n    goBack = () => {\n        this.props.history.goBack();\n    }\n\n\n    Stat = async (is_cure, period) => {\n        const { user } = this.props;\n        const data = await Stat_Api.ask(user.student.s_id, is_cure, period);\n        if (data.data.code == 'cure') {\n            this.setState({\n                amount: data.data.amount,\n                score: data.data.score,\n                voice_score: data.data.voice_score,\n                class: data.data.class,\n                code: data.data.code,\n                period: period,\n                is_ready: true\n            });\n        } else if (data.data.code === 'diagnose') {\n            this.setState({\n                score_swp: data.data.score_swp,\n                score_ph: data.data.score_ph,\n                score_foc: data.data.score_foc,\n                class: data.data.class,\n                code: data.data.code,\n                is_ready: true\n            });\n        }\n        console.log(data.data);\n    }\n\n    makeAlert(text, isConfirm, onSubmit, onCancel) {\n        this.setState({\n            enableAlert: true,\n        })\n        this.alertText = text;\n        this.isConfirm = isConfirm;\n        this.onSubmit = onSubmit;\n        this.onCancel = onCancel;\n\n        this.forceUpdate();\n    }\n\n    isFirstDiag = async () => {\n        const { data } = await Daily_Api.did(this.props.user.student.s_id);\n        console.log(data);\n\n        if (data.is_first) {\n            this.makeAlert('첫 번째 검사를 진행해주세요', false, (() =>\n                this.setState({\n                    enableAlert: false,\n                })\n            ));\n        }\n        else this.props.history.push('/diagnose/result');\n    }\n\n    render() {\n        console.log(this.props.history);\n        const { user } = this.props;\n\n        return (\n            <div>\n                {this.state.enableAlert ? (<Alert\n                    text={this.alertText}\n                    isConfirm={this.isConfirm}\n                    onSubmit={this.onSubmit}\n                    onCancel={this.onCancel}\n                />) : ''}\n                <StdStatisticsPresenter\n                    student={user.student}\n                    goBack={this.goBack}\n                    state={this.state}\n                    Stat={this.Stat}\n                    isReady={this.state.is_ready}\n                    isCure={this.state.is_cure}\n                    period={this.state.period}\n                    isFirstDiag={this.isFirstDiag}\n                />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return { user: state.user }\n}\n\nexport default connect(mapStateToProps)(withRouter(StdStatstics));"]},"metadata":{},"sourceType":"module"}