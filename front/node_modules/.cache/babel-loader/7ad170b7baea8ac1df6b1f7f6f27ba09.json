{"ast":null,"code":"import { soundURL, D_tutorial } from 'api';\nimport { D1, TTobak } from 'images';\nconst idx_txt = 'swp';\nconst UP = 'up';\nconst DOWN = 'down';\nconst initState = {\n  gameState: false,\n  // 게임 상태\n  UpButton: D1.d1_UpButton_UP,\n  // 버튼 이미지 상태\n  DownButton: D1.d1_DownButton_UP,\n  // 버튼 이미지 상태\n  stdAnswer: [],\n  // 학습자 정답\n  Answer: [],\n  // 정답 상자\n  TTobaki: TTobak.ttobak1_1,\n  // 또박이 이미지 상태\n  swpSound: null,\n  isImageLoaded: false,\n  percent: 0,\n  showPopup: false,\n  showNextPopup: false,\n  currentIndex: 1,\n  totalNum: 0,\n  tutorialState: false\n};\nlet voice = [];\nlet voice_desc = [];\nlet swp = null;\nlet buttonSound = null;\nexport const tutorial = data => {\n  swp = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n  buttonSound = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n\n  for (let i = 0; i < 4; i++) {\n    voice.push(new Audio(soundURL + data.voice[i].voc_path));\n    voice_desc.push(data.voice[i].voc_desc);\n    voice[i].addEventListener('ended', () => {\n      this.setState({\n        TTobaki: TTobak.ttobak1_1,\n        gameState: 'tutorial',\n        tutorialState: this.voice_desc[i]\n      });\n    });\n  }\n\n  const swpUp = cnt => {\n    if (cnt >= 2) {\n      setTimeout(() => {\n        voice[1].play();\n        this.setState({\n          TTobaki: TTobak.ttobak3_2,\n          gameState: false\n        });\n      }, 1000);\n      return cnt;\n    }\n\n    swp[0].play();\n    this.setState({\n      UpButton: D1.d1_UpButton_DOWN\n    });\n    setTimeout(() => {\n      this.setState({\n        UpButton: D1.d1_UpButton_UP\n      });\n      setTimeout(() => {\n        cnt = swpUp(++cnt);\n      }, 1000);\n    }, 500);\n  };\n\n  voice[0].addEventListener('ended', () => {\n    this.setState({\n      TTobaki: TTobak.ttobak1_1\n    });\n    setTimeout(() => {\n      swpUp(0);\n    }, 1000);\n  });\n  voice[3].addEventListener('ended', async () => {\n    await D_tutorial.answer(this.props.user.student.s_id, idx_txt);\n    this.setState({\n      initState\n    });\n    this.newRequest();\n  });\n  setTimeout(() => {\n    voice[0].play();\n    this.setState({\n      TTobaki: TTobak.ttobak3_2,\n      gameState: false\n    });\n  }, 1500); // this.voice = null;\n  // this.newRequest();\n};\nexport const tutorialButtonEvent = id => {\n  const swpDown = cnt => {\n    if (cnt >= 2) {\n      setTimeout(() => {\n        voice[2].play();\n        this.setState({\n          TTobaki: TTobak.ttobak3_2,\n          gameState: false\n        });\n      }, 1200);\n      return cnt;\n    }\n\n    swp[1].play();\n    this.setState({\n      DownButton: D1.d1_DownButton_DOWN\n    });\n    setTimeout(() => {\n      this.setState({\n        DownButton: D1.d1_DownButton_UP\n      });\n      setTimeout(() => {\n        cnt = swpDown(++cnt);\n      }, 1000);\n    }, 500);\n  };\n\n  if (id === UP && this.state.tutorialState === voice_desc[1]) {\n    this.setState({\n      tutorialState: voice_desc[2]\n    });\n    setTimeout(() => {\n      swpDown(0);\n    }, 2000);\n  } else if (id === DOWN && this.state.tutorialState === voice_desc[2]) {\n    setTimeout(() => {\n      this.setState({\n        TTobaki: TTobak.ttobak3_2,\n        gameState: false,\n        tutorialState: voice_desc[3]\n      });\n      voice[3].play();\n    }, 2000);\n  }\n};","map":{"version":3,"sources":["/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/Diagnose/Sweep/tutorialModule.js"],"names":["soundURL","D_tutorial","D1","TTobak","idx_txt","UP","DOWN","initState","gameState","UpButton","d1_UpButton_UP","DownButton","d1_DownButton_UP","stdAnswer","Answer","TTobaki","ttobak1_1","swpSound","isImageLoaded","percent","showPopup","showNextPopup","currentIndex","totalNum","tutorialState","voice","voice_desc","swp","buttonSound","tutorial","data","Audio","sample_ques","ques_path2","ques_path1","i","push","voc_path","voc_desc","addEventListener","setState","swpUp","cnt","setTimeout","play","ttobak3_2","d1_UpButton_DOWN","answer","props","user","student","s_id","newRequest","tutorialButtonEvent","id","swpDown","d1_DownButton_DOWN","state"],"mappings":"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","sourcesContent":["import { soundURL, D_tutorial } from 'api';\nimport { D1, TTobak } from 'images';\n\nconst idx_txt = 'swp';\nconst UP = 'up';\nconst DOWN = 'down';\nconst initState = {\n    gameState: false,                           // 게임 상태\n    UpButton: D1.d1_UpButton_UP,                // 버튼 이미지 상태\n    DownButton: D1.d1_DownButton_UP,            // 버튼 이미지 상태\n    stdAnswer: [],                              // 학습자 정답\n    Answer: [],                                 // 정답 상자\n    TTobaki: TTobak.ttobak1_1,                  // 또박이 이미지 상태\n    swpSound: null,\n    isImageLoaded: false,\n    percent: 0,\n    showPopup: false,\n    showNextPopup: false,\n    currentIndex: 1,\n    totalNum: 0,\n    tutorialState: false,\n};\n\nlet voice = [];\nlet voice_desc = [];\nlet swp = null;\nlet buttonSound = null;\n\nexport const tutorial = (data) => {\n    swp = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n    buttonSound = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n    for (let i = 0; i < 4; i++) {\n        voice.push(new Audio(soundURL + data.voice[i].voc_path));\n        voice_desc.push(data.voice[i].voc_desc);\n\n        voice[i].addEventListener('ended', () => {\n            this.setState({\n                TTobaki: TTobak.ttobak1_1,\n                gameState: 'tutorial',\n                tutorialState: this.voice_desc[i],\n            });\n        });\n    }\n\n    const swpUp = (cnt) => {\n        if (cnt >= 2) {\n            setTimeout(() => {\n                voice[1].play();\n                this.setState({\n                    TTobaki: TTobak.ttobak3_2,\n                    gameState: false,\n                })\n            }, 1000);\n            return cnt;\n        }\n\n        swp[0].play();\n        this.setState({\n            UpButton: D1.d1_UpButton_DOWN,\n        });\n        setTimeout(() => {\n            this.setState({\n                UpButton: D1.d1_UpButton_UP,\n            });\n            setTimeout(() => {\n                cnt = swpUp(++cnt);\n            }, 1000);\n        }, 500);\n    };\n\n    voice[0].addEventListener('ended', () => {\n        this.setState({\n            TTobaki: TTobak.ttobak1_1,\n        });\n\n        setTimeout(() => {\n            swpUp(0);\n        }, 1000);\n    })\n\n    voice[3].addEventListener('ended', async () => {\n        await D_tutorial.answer(this.props.user.student.s_id, idx_txt);\n        this.setState({\n            initState,\n        });\n        this.newRequest();\n    })\n\n    setTimeout(() => {\n        voice[0].play();\n        this.setState({\n            TTobaki: TTobak.ttobak3_2,\n            gameState: false,\n        })\n    }, 1500);\n\n    // this.voice = null;\n    // this.newRequest();\n}\n\nexport const tutorialButtonEvent = (id) => {\n    const swpDown = (cnt) => {\n        if (cnt >= 2) {\n            setTimeout(() => {\n                voice[2].play();\n                this.setState({\n                    TTobaki: TTobak.ttobak3_2,\n                    gameState: false,\n                })\n            }, 1200);\n            return cnt;\n        }\n\n        swp[1].play();\n        this.setState({\n            DownButton: D1.d1_DownButton_DOWN,\n        });\n        setTimeout(() => {\n            this.setState({\n                DownButton: D1.d1_DownButton_UP,\n            });\n            setTimeout(() => {\n                cnt = swpDown(++cnt);\n            }, 1000);\n        }, 500);\n    };\n\n    if (id === UP && this.state.tutorialState === voice_desc[1]) {\n        this.setState({\n            tutorialState: voice_desc[2],\n        })\n        setTimeout(() => {\n            swpDown(0);\n        }, 2000);\n    } else if (id === DOWN && this.state.tutorialState === voice_desc[2]) {\n        setTimeout(() => {\n            this.setState({\n                TTobaki: TTobak.ttobak3_2,\n                gameState: false,\n                tutorialState: voice_desc[3],\n            })\n            voice[3].play();\n        }, 2000);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}