{"ast":null,"code":"import { soundURL, D_tutorial } from 'api';\nimport { D1, TTobak } from 'images';\nconst idx_txt = 'swp';\nconst UP = 'up';\nconst DOWN = 'down';\nconst initState = {\n  gameState: false,\n  // 게임 상태\n  UpButton: D1.d1_UpButton_UP,\n  // 버튼 이미지 상태\n  DownButton: D1.d1_DownButton_UP,\n  // 버튼 이미지 상태\n  stdAnswer: [],\n  // 학습자 정답\n  Answer: [],\n  // 정답 상자\n  TTobaki: TTobak.ttobak1_1,\n  // 또박이 이미지 상태\n  swpSound: null,\n  isImageLoaded: false,\n  percent: 0,\n  showPopup: false,\n  showNextPopup: false,\n  currentIndex: 1,\n  totalNum: 0,\n  tutorialState: false\n};\nexport default tutorial = data => {\n  this.voice = [];\n  this.voice_desc = [];\n  this.swp = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n  this.buttonSound = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n\n  for (let i = 0; i < 4; i++) {\n    this.voice.push(new Audio(soundURL + data.voice[i].voc_path));\n    this.voice_desc.push(data.voice[i].voc_desc);\n    this.voice[i].addEventListener('ended', () => {\n      this.setState({\n        TTobaki: TTobak.ttobak1_1,\n        gameState: 'tutorial',\n        tutorialState: this.voice_desc[i]\n      });\n    });\n  }\n\n  const swpUp = cnt => {\n    if (cnt >= 2) {\n      setTimeout(() => {\n        this.voice[1].play();\n        this.tutorialCnt = 0;\n        this.setState({\n          TTobaki: TTobak.ttobak3_2,\n          gameState: false\n        });\n      }, 1000);\n      return cnt;\n    }\n\n    this.swp[0].play();\n    this.setState({\n      UpButton: D1.d1_UpButton_DOWN\n    });\n    setTimeout(() => {\n      this.setState({\n        UpButton: D1.d1_UpButton_UP\n      });\n      setTimeout(() => {\n        cnt = swpUp(++cnt);\n      }, 1000);\n    }, 500);\n  };\n\n  this.voice[0].addEventListener('ended', () => {\n    this.setState({\n      TTobaki: TTobak.ttobak1_1\n    });\n    setTimeout(() => {\n      swpUp(0);\n    }, 1000);\n  });\n  this.voice[3].addEventListener('ended', async () => {\n    await D_tutorial.answer(this.props.user.student.s_id, idx_txt);\n    this.setState({\n      initState\n    });\n    this.newRequest();\n  });\n  setTimeout(() => {\n    this.voice[0].play();\n    this.setState({\n      TTobaki: TTobak.ttobak3_2,\n      gameState: false\n    });\n  }, 1500); // this.voice = null;\n  // this.newRequest();\n};\nexport const tutorialButtonEvent = id => {\n  const swpDown = cnt => {\n    if (cnt >= 2) {\n      setTimeout(() => {\n        this.voice[2].play();\n        this.tutorialCnt = 0;\n        this.setState({\n          TTobaki: TTobak.ttobak3_2,\n          gameState: false\n        });\n      }, 1200);\n      return cnt;\n    }\n\n    this.swp[1].play();\n    this.setState({\n      DownButton: D1.d1_DownButton_DOWN\n    });\n    setTimeout(() => {\n      this.setState({\n        DownButton: D1.d1_DownButton_UP\n      });\n      setTimeout(() => {\n        cnt = swpDown(++cnt);\n      }, 1000);\n    }, 500);\n  };\n\n  if (id === UP && this.state.tutorialState === this.voice_desc[1]) {\n    this.setState({\n      tutorialState: this.voice_desc[2]\n    });\n    setTimeout(() => {\n      swpDown(0);\n    }, 2000);\n  } else if (id === DOWN && this.state.tutorialState === this.voice_desc[2]) {\n    setTimeout(() => {\n      this.setState({\n        TTobaki: TTobak.ttobak3_2,\n        gameState: false,\n        tutorialState: this.voice_desc[3]\n      });\n      this.voice[3].play();\n    }, 2000);\n  }\n};","map":{"version":3,"sources":["/Users/eun/Projects/FirstPenguin/first-penguin/front/src/Routes/Diagnose/Sweep/tutorialModule.js"],"names":["soundURL","D_tutorial","D1","TTobak","idx_txt","UP","DOWN","initState","gameState","UpButton","d1_UpButton_UP","DownButton","d1_DownButton_UP","stdAnswer","Answer","TTobaki","ttobak1_1","swpSound","isImageLoaded","percent","showPopup","showNextPopup","currentIndex","totalNum","tutorialState","tutorial","data","voice","voice_desc","swp","Audio","sample_ques","ques_path2","ques_path1","buttonSound","i","push","voc_path","voc_desc","addEventListener","setState","swpUp","cnt","setTimeout","play","tutorialCnt","ttobak3_2","d1_UpButton_DOWN","answer","props","user","student","s_id","newRequest","tutorialButtonEvent","id","swpDown","d1_DownButton_DOWN","state"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,KAArC;AACA,SAASC,EAAT,EAAaC,MAAb,QAA2B,QAA3B;AAEA,MAAMC,OAAO,GAAG,KAAhB;AACA,MAAMC,EAAE,GAAG,IAAX;AACA,MAAMC,IAAI,GAAG,MAAb;AACA,MAAMC,SAAS,GAAG;AACdC,EAAAA,SAAS,EAAE,KADG;AAC8B;AAC5CC,EAAAA,QAAQ,EAAEP,EAAE,CAACQ,cAFC;AAE8B;AAC5CC,EAAAA,UAAU,EAAET,EAAE,CAACU,gBAHD;AAG8B;AAC5CC,EAAAA,SAAS,EAAE,EAJG;AAI8B;AAC5CC,EAAAA,MAAM,EAAE,EALM;AAK8B;AAC5CC,EAAAA,OAAO,EAAEZ,MAAM,CAACa,SANF;AAM8B;AAC5CC,EAAAA,QAAQ,EAAE,IAPI;AAQdC,EAAAA,aAAa,EAAE,KARD;AASdC,EAAAA,OAAO,EAAE,CATK;AAUdC,EAAAA,SAAS,EAAE,KAVG;AAWdC,EAAAA,aAAa,EAAE,KAXD;AAYdC,EAAAA,YAAY,EAAE,CAZA;AAadC,EAAAA,QAAQ,EAAE,CAbI;AAcdC,EAAAA,aAAa,EAAE;AAdD,CAAlB;AAiBA,eAAeC,QAAQ,GAAIC,IAAD,IAAU;AAChC,OAAKC,KAAL,GAAa,EAAb;AACA,OAAKC,UAAL,GAAkB,EAAlB;AACA,OAAKC,GAAL,GAAW,CAAC,IAAIC,KAAJ,CAAU9B,QAAQ,GAAG0B,IAAI,CAACK,WAAL,CAAiBC,UAAtC,CAAD,EAAoD,IAAIF,KAAJ,CAAU9B,QAAQ,GAAG0B,IAAI,CAACK,WAAL,CAAiBE,UAAtC,CAApD,CAAX;AACA,OAAKC,WAAL,GAAmB,CAAC,IAAIJ,KAAJ,CAAU9B,QAAQ,GAAG0B,IAAI,CAACK,WAAL,CAAiBC,UAAtC,CAAD,EAAoD,IAAIF,KAAJ,CAAU9B,QAAQ,GAAG0B,IAAI,CAACK,WAAL,CAAiBE,UAAtC,CAApD,CAAnB;;AACA,OAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,SAAKR,KAAL,CAAWS,IAAX,CAAgB,IAAIN,KAAJ,CAAU9B,QAAQ,GAAG0B,IAAI,CAACC,KAAL,CAAWQ,CAAX,EAAcE,QAAnC,CAAhB;AACA,SAAKT,UAAL,CAAgBQ,IAAhB,CAAqBV,IAAI,CAACC,KAAL,CAAWQ,CAAX,EAAcG,QAAnC;AAEA,SAAKX,KAAL,CAAWQ,CAAX,EAAcI,gBAAd,CAA+B,OAA/B,EAAwC,MAAM;AAC1C,WAAKC,QAAL,CAAc;AACVzB,QAAAA,OAAO,EAAEZ,MAAM,CAACa,SADN;AAEVR,QAAAA,SAAS,EAAE,UAFD;AAGVgB,QAAAA,aAAa,EAAE,KAAKI,UAAL,CAAgBO,CAAhB;AAHL,OAAd;AAKH,KAND;AAOH;;AAED,QAAMM,KAAK,GAAIC,GAAD,IAAS;AACnB,QAAIA,GAAG,IAAI,CAAX,EAAc;AACVC,MAAAA,UAAU,CAAC,MAAM;AACb,aAAKhB,KAAL,CAAW,CAAX,EAAciB,IAAd;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKL,QAAL,CAAc;AACVzB,UAAAA,OAAO,EAAEZ,MAAM,CAAC2C,SADN;AAEVtC,UAAAA,SAAS,EAAE;AAFD,SAAd;AAIH,OAPS,EAOP,IAPO,CAAV;AAQA,aAAOkC,GAAP;AACH;;AAED,SAAKb,GAAL,CAAS,CAAT,EAAYe,IAAZ;AACA,SAAKJ,QAAL,CAAc;AACV/B,MAAAA,QAAQ,EAAEP,EAAE,CAAC6C;AADH,KAAd;AAGAJ,IAAAA,UAAU,CAAC,MAAM;AACb,WAAKH,QAAL,CAAc;AACV/B,QAAAA,QAAQ,EAAEP,EAAE,CAACQ;AADH,OAAd;AAGAiC,MAAAA,UAAU,CAAC,MAAM;AACbD,QAAAA,GAAG,GAAGD,KAAK,CAAC,EAAEC,GAAH,CAAX;AACH,OAFS,EAEP,IAFO,CAAV;AAGH,KAPS,EAOP,GAPO,CAAV;AAQH,GAzBD;;AA2BA,OAAKf,KAAL,CAAW,CAAX,EAAcY,gBAAd,CAA+B,OAA/B,EAAwC,MAAM;AAC1C,SAAKC,QAAL,CAAc;AACVzB,MAAAA,OAAO,EAAEZ,MAAM,CAACa;AADN,KAAd;AAIA2B,IAAAA,UAAU,CAAC,MAAM;AACbF,MAAAA,KAAK,CAAC,CAAD,CAAL;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GARD;AAUA,OAAKd,KAAL,CAAW,CAAX,EAAcY,gBAAd,CAA+B,OAA/B,EAAwC,YAAY;AAChD,UAAMtC,UAAU,CAAC+C,MAAX,CAAkB,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,OAAhB,CAAwBC,IAA1C,EAAgDhD,OAAhD,CAAN;AACA,SAAKoC,QAAL,CAAc;AACVjC,MAAAA;AADU,KAAd;AAGA,SAAK8C,UAAL;AACH,GAND;AAQAV,EAAAA,UAAU,CAAC,MAAM;AACb,SAAKhB,KAAL,CAAW,CAAX,EAAciB,IAAd;AACA,SAAKJ,QAAL,CAAc;AACVzB,MAAAA,OAAO,EAAEZ,MAAM,CAAC2C,SADN;AAEVtC,MAAAA,SAAS,EAAE;AAFD,KAAd;AAIH,GANS,EAMP,IANO,CAAV,CA/DgC,CAuEhC;AACA;AACH,CAzED;AA2EA,OAAO,MAAM8C,mBAAmB,GAAIC,EAAD,IAAQ;AACvC,QAAMC,OAAO,GAAId,GAAD,IAAS;AACrB,QAAIA,GAAG,IAAI,CAAX,EAAc;AACVC,MAAAA,UAAU,CAAC,MAAM;AACb,aAAKhB,KAAL,CAAW,CAAX,EAAciB,IAAd;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKL,QAAL,CAAc;AACVzB,UAAAA,OAAO,EAAEZ,MAAM,CAAC2C,SADN;AAEVtC,UAAAA,SAAS,EAAE;AAFD,SAAd;AAIH,OAPS,EAOP,IAPO,CAAV;AAQA,aAAOkC,GAAP;AACH;;AAED,SAAKb,GAAL,CAAS,CAAT,EAAYe,IAAZ;AACA,SAAKJ,QAAL,CAAc;AACV7B,MAAAA,UAAU,EAAET,EAAE,CAACuD;AADL,KAAd;AAGAd,IAAAA,UAAU,CAAC,MAAM;AACb,WAAKH,QAAL,CAAc;AACV7B,QAAAA,UAAU,EAAET,EAAE,CAACU;AADL,OAAd;AAGA+B,MAAAA,UAAU,CAAC,MAAM;AACbD,QAAAA,GAAG,GAAGc,OAAO,CAAC,EAAEd,GAAH,CAAb;AACH,OAFS,EAEP,IAFO,CAAV;AAGH,KAPS,EAOP,GAPO,CAAV;AAQH,GAzBD;;AA2BA,MAAIa,EAAE,KAAKlD,EAAP,IAAa,KAAKqD,KAAL,CAAWlC,aAAX,KAA6B,KAAKI,UAAL,CAAgB,CAAhB,CAA9C,EAAkE;AAC9D,SAAKY,QAAL,CAAc;AACVhB,MAAAA,aAAa,EAAE,KAAKI,UAAL,CAAgB,CAAhB;AADL,KAAd;AAGAe,IAAAA,UAAU,CAAC,MAAM;AACba,MAAAA,OAAO,CAAC,CAAD,CAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GAPD,MAOO,IAAID,EAAE,KAAKjD,IAAP,IAAe,KAAKoD,KAAL,CAAWlC,aAAX,KAA6B,KAAKI,UAAL,CAAgB,CAAhB,CAAhD,EAAoE;AACvEe,IAAAA,UAAU,CAAC,MAAM;AACb,WAAKH,QAAL,CAAc;AACVzB,QAAAA,OAAO,EAAEZ,MAAM,CAAC2C,SADN;AAEVtC,QAAAA,SAAS,EAAE,KAFD;AAGVgB,QAAAA,aAAa,EAAE,KAAKI,UAAL,CAAgB,CAAhB;AAHL,OAAd;AAKA,WAAKD,KAAL,CAAW,CAAX,EAAciB,IAAd;AACH,KAPS,EAOP,IAPO,CAAV;AAQH;AACJ,CA7CM","sourcesContent":["import { soundURL, D_tutorial } from 'api';\nimport { D1, TTobak } from 'images';\n\nconst idx_txt = 'swp';\nconst UP = 'up';\nconst DOWN = 'down';\nconst initState = {\n    gameState: false,                           // 게임 상태\n    UpButton: D1.d1_UpButton_UP,                // 버튼 이미지 상태\n    DownButton: D1.d1_DownButton_UP,            // 버튼 이미지 상태\n    stdAnswer: [],                              // 학습자 정답\n    Answer: [],                                 // 정답 상자\n    TTobaki: TTobak.ttobak1_1,                  // 또박이 이미지 상태\n    swpSound: null,\n    isImageLoaded: false,\n    percent: 0,\n    showPopup: false,\n    showNextPopup: false,\n    currentIndex: 1,\n    totalNum: 0,\n    tutorialState: false,\n};\n\nexport default tutorial = (data) => {\n    this.voice = [];\n    this.voice_desc = [];\n    this.swp = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n    this.buttonSound = [new Audio(soundURL + data.sample_ques.ques_path2), new Audio(soundURL + data.sample_ques.ques_path1)];\n    for (let i = 0; i < 4; i++) {\n        this.voice.push(new Audio(soundURL + data.voice[i].voc_path));\n        this.voice_desc.push(data.voice[i].voc_desc);\n\n        this.voice[i].addEventListener('ended', () => {\n            this.setState({\n                TTobaki: TTobak.ttobak1_1,\n                gameState: 'tutorial',\n                tutorialState: this.voice_desc[i],\n            });\n        });\n    }\n\n    const swpUp = (cnt) => {\n        if (cnt >= 2) {\n            setTimeout(() => {\n                this.voice[1].play();\n                this.tutorialCnt = 0;\n                this.setState({\n                    TTobaki: TTobak.ttobak3_2,\n                    gameState: false,\n                })\n            }, 1000);\n            return cnt;\n        }\n\n        this.swp[0].play();\n        this.setState({\n            UpButton: D1.d1_UpButton_DOWN,\n        });\n        setTimeout(() => {\n            this.setState({\n                UpButton: D1.d1_UpButton_UP,\n            });\n            setTimeout(() => {\n                cnt = swpUp(++cnt);\n            }, 1000);\n        }, 500);\n    };\n\n    this.voice[0].addEventListener('ended', () => {\n        this.setState({\n            TTobaki: TTobak.ttobak1_1,\n        });\n\n        setTimeout(() => {\n            swpUp(0);\n        }, 1000);\n    })\n\n    this.voice[3].addEventListener('ended', async () => {\n        await D_tutorial.answer(this.props.user.student.s_id, idx_txt);\n        this.setState({\n            initState,\n        });\n        this.newRequest();\n    })\n\n    setTimeout(() => {\n        this.voice[0].play();\n        this.setState({\n            TTobaki: TTobak.ttobak3_2,\n            gameState: false,\n        })\n    }, 1500);\n\n    // this.voice = null;\n    // this.newRequest();\n}\n\nexport const tutorialButtonEvent = (id) => {\n    const swpDown = (cnt) => {\n        if (cnt >= 2) {\n            setTimeout(() => {\n                this.voice[2].play();\n                this.tutorialCnt = 0;\n                this.setState({\n                    TTobaki: TTobak.ttobak3_2,\n                    gameState: false,\n                })\n            }, 1200);\n            return cnt;\n        }\n\n        this.swp[1].play();\n        this.setState({\n            DownButton: D1.d1_DownButton_DOWN,\n        });\n        setTimeout(() => {\n            this.setState({\n                DownButton: D1.d1_DownButton_UP,\n            });\n            setTimeout(() => {\n                cnt = swpDown(++cnt);\n            }, 1000);\n        }, 500);\n    };\n\n    if (id === UP && this.state.tutorialState === this.voice_desc[1]) {\n        this.setState({\n            tutorialState: this.voice_desc[2],\n        })\n        setTimeout(() => {\n            swpDown(0);\n        }, 2000);\n    } else if (id === DOWN && this.state.tutorialState === this.voice_desc[2]) {\n        setTimeout(() => {\n            this.setState({\n                TTobaki: TTobak.ttobak3_2,\n                gameState: false,\n                tutorialState: this.voice_desc[3],\n            })\n            this.voice[3].play();\n        }, 2000);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}